---
- hosts: all
  gather_facts: true
  become:
    true
  become_user:
    root
  remote_user:
    centos

- hosts: 
      app
  become:
    true
  become_user:
    root
  remote_user:
    centos
  roles:
     - nginx


# - hosts: all
#   gather_facts: true
#   become:
#     true
#   become_user:
#     root
#   remote_user:
#     centos
#   tasks:
#    - name: install nano
#      yum: name=nano state=latest

# - hosts: 
#       all
#   become:
#     true
#   become_user:
#     root
#   remote_user:
#     centos
#   roles:
#      - node-exporter

- hosts: 
    proxy
  become:
    true
  become_user:
    root
  remote_user:
    centos
  roles:
    - nginx-proxy
    # - letsencrypt
    #  - letsnginx
     
     


# - hosts: 
#     monitoring
#   become:
#    true
#   become_user:
#    root
#   remote_user:
#     centos
#   roles:
#    - prometheus
#    - alertmanager
#    - grafana